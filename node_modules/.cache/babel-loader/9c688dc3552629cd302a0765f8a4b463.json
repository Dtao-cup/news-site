{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\src\\routes\\index.js","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\src\\routes\\index.js","mtime":1589955311000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgY29uZmlnIGZyb20gIi4vY29uZmlnIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsgLy8xLiDlronoo4UKClZ1ZS51c2UoVnVlUm91dGVyKTsgLy8yLiDliJvlu7rot6/nlLHlr7nosaEKCnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKGNvbmZpZyk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tZXRhLmF1dGgpIHsKICAgIC8vIOmcgOimgeeZu+W9leaJjeiDveiuv+mXrgogICAgaWYgKHN0b3JlLnN0YXRlLmxvZ2luVXNlci5pc0xvYWRpbmcpIHsKICAgICAgbmV4dCh7CiAgICAgICAgbmFtZTogIkF1dGgiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZXR1cm51cmw6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoc3RvcmUuc3RhdGUubG9naW5Vc2VyLmRhdGEpIHsKICAgICAgbmV4dCgpOyAvL+WFgeiuuOi/m+WFpQogICAgfSBlbHNlIHsKICAgICAgbmV4dCh7CiAgICAgICAgbmFtZTogIkxvZ2luIgogICAgICB9KTsKICAgIH0KICB9IGVsc2UgewogICAgLy8g6YO95Y+v5Lul6K6/6ZeuCiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/ASUS/Desktop/源码/19. 受保护的页面/news-app/src/routes/index.js"],"names":["VueRouter","Vue","config","store","use","router","beforeEach","to","from","next","meta","auth","state","loginUser","isLoading","name","query","returnurl","fullPath","data"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB,C,CAEA;;AACAF,GAAG,CAACG,GAAJ,CAAQJ,SAAR,E,CAEA;;AACA,IAAIK,MAAM,GAAG,IAAIL,SAAJ,CAAcE,MAAd,CAAb;AAEAG,MAAM,CAACC,UAAP,CAAkB,UAASC,EAAT,EAAaC,IAAb,EAAmBC,IAAnB,EAAyB;AACzC,MAAIF,EAAE,CAACG,IAAH,CAAQC,IAAZ,EAAkB;AAChB;AACA,QAAIR,KAAK,CAACS,KAAN,CAAYC,SAAZ,CAAsBC,SAA1B,EAAqC;AACnCL,MAAAA,IAAI,CAAC;AAAEM,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAEV,EAAE,CAACW;AAAhB;AAAvB,OAAD,CAAJ;AACD,KAFD,MAEO,IAAIf,KAAK,CAACS,KAAN,CAAYC,SAAZ,CAAsBM,IAA1B,EAAgC;AACrCV,MAAAA,IAAI,GADiC,CAC7B;AACT,KAFM,MAEA;AACLA,MAAAA,IAAI,CAAC;AAAEM,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAJ;AACD;AACF,GATD,MASO;AACL;AACAN,IAAAA,IAAI;AACL;AACF,CAdD;AAgBA,eAAeJ,MAAf","sourcesContent":["import VueRouter from \"vue-router\";\nimport Vue from \"vue\";\nimport config from \"./config\";\nimport store from \"../store\";\n\n//1. 安装\nVue.use(VueRouter);\n\n//2. 创建路由对象\nvar router = new VueRouter(config);\n\nrouter.beforeEach(function(to, from, next) {\n  if (to.meta.auth) {\n    // 需要登录才能访问\n    if (store.state.loginUser.isLoading) {\n      next({ name: \"Auth\", query: { returnurl: to.fullPath } });\n    } else if (store.state.loginUser.data) {\n      next(); //允许进入\n    } else {\n      next({ name: \"Login\" });\n    }\n  } else {\n    // 都可以访问\n    next();\n  }\n});\n\nexport default router;\n"]}]}
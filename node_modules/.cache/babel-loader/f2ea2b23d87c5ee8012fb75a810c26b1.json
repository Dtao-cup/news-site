{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\src\\views\\ChannelNews.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\src\\views\\ChannelNews.vue","mtime":1589783190000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9BU1VTL0Rlc2t0b3AvXHU2RTkwXHU3ODAxLzE5LiBcdTUzRDdcdTRGRERcdTYyQTRcdTc2ODRcdTk4NzVcdTk3NjIvbmV3cy1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTmV3c0xpc3QgZnJvbSAiLi4vY29tcG9uZW50cy9uZXdzL05ld3NMaXN0IjsKaW1wb3J0IFBhZ2VyIGZyb20gIi4uL2NvbXBvbmVudHMvUGFnZXIiOwppbXBvcnQgKiBhcyBuZXdzU2VydiBmcm9tICIuLi9zZXJ2aWNlcy9uZXdzU2VydmljZSI7CmltcG9ydCBMb2FkaW5nIGZyb20gIi4uL2NvbXBvbmVudHMvTG9hZGluZyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQYWdlcjogUGFnZXIsCiAgICBOZXdzTGlzdDogTmV3c0xpc3QsCiAgICBMb2FkaW5nOiBMb2FkaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGltaXQ6IDE1LAogICAgICB0b3RhbDogMCwKICAgICAgcGFuZWxOdW1iZXI6IDEwLAogICAgICBuZXdzOiBbXSwKICAgICAgaXNMb2FkaW5nOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2U6IGZ1bmN0aW9uIHBhZ2UoKSB7CiAgICAgIHJldHVybiArdGhpcy4kcm91dGUucXVlcnkucGFnZSB8fCAxOwogICAgfSwKICAgIGNoYW5uZWxOYW1lOiBmdW5jdGlvbiBjaGFubmVsTmFtZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjaGFubmVscyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNoYW5uZWxzLmRhdGE7CgogICAgICBpZiAoY2hhbm5lbHMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBjaGFubmVsID0gY2hhbm5lbHMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uY2hhbm5lbElkID09PSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBjaGFubmVsLm5hbWU7CiAgICAgIH0KCiAgICAgIHJldHVybiAiIjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiuvue9ruaJgOacieaWsOmXu+ebuOWFs+aVsOaNrgogICAgc2V0RGF0YXM6IGZ1bmN0aW9uIHNldERhdGFzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBuZXdzU2Vydi5nZXROZXdzKF90aGlzMi4kcm91dGUucGFyYW1zLmlkLCBfdGhpczIucGFnZSwgX3RoaXMyLmxpbWl0KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIudG90YWwgPSByZXNwLmFsbE51bTsKICAgICAgICAgICAgICAgIF90aGlzMi5uZXdzID0gcmVzcC5jb250ZW50bGlzdDsKICAgICAgICAgICAgICAgIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKG5ld1BhZ2UpIHsKICAgICAgLy8g5aaC5L2V5Zyo5Luj56CB5Lit5a+86IiqCiAgICAgIC8vIOWRveS7pOW8j+WvvOiIqgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHBhZ2U6IG5ld1BhZ2UKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnNldERhdGFzKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5o6n5p+Q5Lqb5pWw5o2u55qE5Y+Y5YyW77yM5b2T5pWw5o2u5Y+Y5YyW5pe26KaB5YGa5LiA5Lqb5LqL5YS/CiAgICAiJHJvdXRlLnBhcmFtcy5pZCI6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAvL+S4gOW8gOWni+eahOaVsOaNruS5n+imgeW9k+WBmuaYr+S4gOenjeWPmOWMlgogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuc2V0RGF0YXMoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ChannelNews.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAkBA,OAAA,QAAA,MAAA,6BAAA;AACA,OAAA,KAAA,MAAA,qBAAA;AACA,OAAA,KAAA,QAAA,MAAA,yBAAA;AACA,OAAA,OAAA,MAAA,uBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA,KADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,OAAA,EAAA;AAHA,GADA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,IAAA,CAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AAAA;;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA;;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,SAAA,KAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AAAA,SAAA,CAAA;AACA,eAAA,OAAA,CAAA,IAAA;AACA;;AACA,aAAA,EAAA;AACA;AAXA,GAfA;AA4BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,IAAA;AADA;AAAA,uBAEA,QAAA,CAAA,OAAA,CACA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EADA,EAEA,MAAA,CAAA,IAFA,EAGA,MAAA,CAAA,KAHA,CAFA;;AAAA;AAEA,gBAAA,IAFA;AAOA,gBAAA,MAAA,CAAA,KAAA,GAAA,IAAA,CAAA,MAAA;AACA,gBAAA,MAAA,CAAA,IAAA,GAAA,IAAA,CAAA,WAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAZA;AAaA,IAAA,YAbA,wBAaA,OAbA,EAaA;AACA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA;AACA,UAAA,IAAA,EAAA;AADA;AADA,OAAA;AAKA,WAAA,QAAA;AACA;AAtBA,GA5BA;AAoDA,EAAA,KAAA,EAAA;AACA;AACA,wBAAA;AACA,MAAA,SAAA,EAAA,IADA;AACA;AACA,MAAA,OAFA,qBAEA;AACA,aAAA,QAAA;AACA;AAJA;AAFA;AApDA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"type-title\">\n      {{ channelName }}\n    </div>\n    <Loading v-if=\"isLoading\" />\n    <NewsList v-else :news=\"news\" />\n    <Pager\n      :page=\"page\"\n      :limit=\"limit\"\n      :total=\"total\"\n      :panelNumber=\"panelNumber\"\n      @pageChange=\"handleChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport NewsList from \"../components/news/NewsList\";\nimport Pager from \"../components/Pager\";\nimport * as newsServ from \"../services/newsService\";\nimport Loading from \"../components/Loading\";\nexport default {\n  components: {\n    Pager,\n    NewsList,\n    Loading,\n  },\n  data() {\n    return {\n      limit: 15,\n      total: 0,\n      panelNumber: 10,\n      news: [],\n      isLoading: true,\n    };\n  },\n  computed: {\n    page() {\n      return +this.$route.query.page || 1;\n    },\n    channelName() {\n      var channels = this.$store.state.channels.data;\n      if (channels.length > 0) {\n        var channel = channels.find((item) => item.channelId === this.$route.params.id)\n        return channel.name;\n      }\n      return \"\";\n    },\n  },\n  methods: {\n    // 设置所有新闻相关数据\n    async setDatas() {\n      this.isLoading = true;\n      var resp = await newsServ.getNews(\n        this.$route.params.id,\n        this.page,\n        this.limit\n      );\n      this.total = resp.allNum;\n      this.news = resp.contentlist;\n      this.isLoading = false;\n    },\n    handleChange(newPage) {\n      // 如何在代码中导航\n      // 命令式导航\n      this.$router.push({\n        query: {\n          page: newPage,\n        },\n      });\n      this.setDatas();\n    },\n  },\n  watch: {\n    // 监控某些数据的变化，当数据变化时要做一些事儿\n    \"$route.params.id\": {\n      immediate: true, //一开始的数据也要当做是一种变化\n      handler() {\n        this.setDatas();\n      },\n    },\n  },\n};\n</script>\n\n<style scoped>\n.type-title {\n  font-size: 2em;\n  color: #888;\n  border-bottom: 1px solid #ccc;\n  padding-bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}
{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\src\\store\\loginUser.js","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\src\\store\\loginUser.js","mtime":1589952675000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\源码\\19. 受保护的页面\\news-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQVNVUy9EZXNrdG9wL1x1NkU5MFx1NzgwMS8xOS4gXHU1M0Q3XHU0RkREXHU2MkE0XHU3Njg0XHU5ODc1XHU5NzYyL25ld3MtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8g55m75b2V55So5oi3IOeahOS7k+W6k+aVsOaNrgppbXBvcnQgeyBsb2dpbiBhcyBfbG9naW4sIGxvZ2luT3V0IGFzIF9sb2dpbk91dCwgd2hvQW1JIGFzIF93aG9BbUkgfSBmcm9tICIuLi9zZXJ2aWNlcy91c2VyU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIC8vIOW8gOWQr+WRveWQjeepuumXtAogIHN0YXRlOiB7CiAgICBkYXRhOiBudWxsLAogICAgLy8g5b2T5YmN55m75b2V55qE55So5oi3CiAgICBpc0xvYWRpbmc6IGZhbHNlIC8vIOaYr+WQpuato+WcqOi/nOeoi+WKoOi9veS4rQoKICB9LAogIG11dGF0aW9uczogewogICAgc2V0SXNMb2FkaW5nOiBmdW5jdGlvbiBzZXRJc0xvYWRpbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuaXNMb2FkaW5nID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmRhdGEgPSBwYXlsb2FkOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGNvbnRleHQsIHBheWxvYWQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcCwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRJc0xvYWRpbmciLCB0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9sb2dpbihwYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyB7Y29kZTowLCBtc2c6IiIsIGRhdGE6eHh4fQogICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAvLyDnmbvlvZXmiJDlip8KICAgICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldERhdGEiLCByZXNwLmRhdGEpOwogICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRJc0xvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgd2hvQW1JOiBmdW5jdGlvbiB3aG9BbUkoY29udGV4dCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldElzTG9hZGluZyIsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF93aG9BbUkoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldERhdGEiLCByZXNwKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRJc0xvYWRpbmciLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ2luT3V0OiBmdW5jdGlvbiBsb2dpbk91dChjb250ZXh0KSB7CiAgICAgIF9sb2dpbk91dCgpOwoKICAgICAgY29udGV4dC5jb21taXQoInNldERhdGEiLCBudWxsKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:/Users/ASUS/Desktop/源码/19. 受保护的页面/news-app/src/store/loginUser.js"],"names":["login","loginOut","whoAmI","namespaced","state","data","isLoading","mutations","setIsLoading","payload","setData","actions","context","commit","resp","result","code"],"mappings":";;AAAA;AACA,SAASA,KAAK,IAALA,MAAT,EAAgBC,QAAQ,IAARA,SAAhB,EAA0BC,MAAM,IAANA,OAA1B,QAAwC,yBAAxC;AACA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AACK;AAClBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,IADD;AACO;AACZC,IAAAA,SAAS,EAAE,KAFN,CAEa;;AAFb,GAFM;AAMbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIJ,KADJ,EACWK,OADX,EACoB;AAC3BL,MAAAA,KAAK,CAACE,SAAN,GAAkBG,OAAlB;AACD,KAHQ;AAITC,IAAAA,OAJS,mBAIDN,KAJC,EAIMK,OAJN,EAIe;AACtBL,MAAAA,KAAK,CAACC,IAAN,GAAaI,OAAb;AACD;AANQ,GANE;AAcbE,EAAAA,OAAO,EAAE;AACDX,IAAAA,KADC,iBACKY,OADL,EACcH,OADd,EACuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BG,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,IAA/B;AAD4B;AAAA,uBAEXb,MAAK,CAACS,OAAD,CAFM;;AAAA;AAExBK,gBAAAA,IAFwB;AAEK;AAC7BC,gBAAAA,MAHwB,GAGf,KAHe;;AAI5B,oBAAID,IAAI,CAACE,IAAL,KAAc,CAAlB,EAAqB;AACnB;AACAJ,kBAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0BC,IAAI,CAACT,IAA/B;AACAU,kBAAAA,MAAM,GAAG,IAAT;AACD;;AACDH,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,KAA/B;AAT4B,iDAUrBE,MAVqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAW7B,KAZM;AAaDb,IAAAA,MAbC,kBAaMU,OAbN,EAae;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBA,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,IAA/B;AADoB;AAAA,uBAEHX,OAAM,EAFH;;AAAA;AAEhBY,gBAAAA,IAFgB;AAGpBF,gBAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0BC,IAA1B;AACAF,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,KAA/B;;AAJoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKrB,KAlBM;AAmBPZ,IAAAA,QAnBO,oBAmBEW,OAnBF,EAmBW;AAChBX,MAAAA,SAAQ;;AACRW,MAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0B,IAA1B;AACD;AAtBM;AAdI,CAAf","sourcesContent":["// 登录用户 的仓库数据\nimport { login, loginOut, whoAmI } from \"../services/userService\";\nexport default {\n  namespaced: true, // 开启命名空间\n  state: {\n    data: null, // 当前登录的用户\n    isLoading: false, // 是否正在远程加载中\n  },\n  mutations: {\n    setIsLoading(state, payload) {\n      state.isLoading = payload;\n    },\n    setData(state, payload) {\n      state.data = payload;\n    },\n  },\n  actions: {\n    async login(context, payload) {\n      context.commit(\"setIsLoading\", true);\n      var resp = await login(payload); // {code:0, msg:\"\", data:xxx}\n      var result = false;\n      if (resp.code === 0) {\n        // 登录成功\n        context.commit(\"setData\", resp.data);\n        result = true;\n      }\n      context.commit(\"setIsLoading\", false);\n      return result;\n    },\n    async whoAmI(context) {\n      context.commit(\"setIsLoading\", true);\n      var resp = await whoAmI();\n      context.commit(\"setData\", resp);\n      context.commit(\"setIsLoading\", false);\n    },\n    loginOut(context) {\n      loginOut();\n      context.commit(\"setData\", null);\n    },\n  },\n};\n"]}]}